<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `elementtree` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, elementtree">

    <title>elementtree - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc mod">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'></p><script>window.sidebarCurrent = {name: 'elementtree', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Crate <a class="mod" href=''>elementtree</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/elementtree/lib.rs.html#1-1240' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>A simple library for parsing an XML file into an in-memory tree structure</p>

<p>Not recommended for large XML files, as it will load the entire file into memory.</p>

<h2 id='installation' class='section-header'><a href='#installation'>Installation</a></h2>
<pre><code class="language-ini">[dependencies]
elementtree = &quot;0&quot;
</code></pre>

<h2 id='reading' class='section-header'><a href='#reading'>Reading</a></h2>
<p>For reading XML you can use the <code>Element::from_reader</code> method which will
parse from a given reader.  Afterwards you end up with a fancy element
tree that can be accessed in various different ways.</p>

<p>You can use <code>(&quot;ns&quot;, &quot;tag&quot;)</code> or <code>{ns}tag</code> to refer to fully qualified
elements.</p>

<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">root</span> <span class="op">=</span> <span class="ident">Element</span>::<span class="ident">from_reader</span>(<span class="string">r#&quot;&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;root xmlns=&quot;tag:myns&quot; xmlns:foo=&quot;tag:otherns&quot;&gt;
    &lt;list a=&quot;1&quot; b=&quot;2&quot; c=&quot;3&quot;&gt;
        &lt;item foo:attr=&quot;foo1&quot;/&gt;
        &lt;item foo:attr=&quot;foo2&quot;/&gt;
        &lt;item foo:attr=&quot;foo3&quot;/&gt;
    &lt;/list&gt;
&lt;/root&gt;
&quot;#</span>.<span class="ident">as_bytes</span>()).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">list</span> <span class="op">=</span> <span class="ident">root</span>.<span class="ident">find</span>(<span class="string">&quot;{tag:myns}list&quot;</span>).<span class="ident">unwrap</span>();
<span class="kw">for</span> <span class="ident">child</span> <span class="kw">in</span> <span class="ident">list</span>.<span class="ident">find_all</span>(<span class="string">&quot;{tag:myns}item&quot;</span>) {
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;attribute: {}&quot;</span>, <span class="ident">child</span>.<span class="ident">get_attr</span>(<span class="string">&quot;{tag:otherns}attr&quot;</span>).<span class="ident">unwrap</span>());
}</pre>

<h2 id='writing' class='section-header'><a href='#writing'>Writing</a></h2>
<p>Writing is easy as well but if you work with namespaces you will need to
register them with the root.  If namespaces are not used yet they will
otherwise be registered with an empty (and once that is used a random prefix)
on the element itself which will blow up the XML size.</p>

<p>Most methods for modification support chaining in one form or another which
makes modifications slightly more ergonomic.</p>

<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">ns</span> <span class="op">=</span> <span class="string">&quot;http://example.invalid/#myns&quot;</span>;
<span class="kw">let</span> <span class="ident">other_ns</span> <span class="op">=</span> <span class="string">&quot;http://example.invalid/#otherns&quot;</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">root</span> <span class="op">=</span> <span class="ident">Element</span>::<span class="ident">new</span>((<span class="ident">ns</span>, <span class="string">&quot;mydoc&quot;</span>));
<span class="ident">root</span>.<span class="ident">set_namespace_prefix</span>(<span class="ident">other_ns</span>, <span class="string">&quot;other&quot;</span>);

{
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">list</span> <span class="op">=</span> <span class="ident">root</span>.<span class="ident">append_new_child</span>((<span class="ident">ns</span>, <span class="string">&quot;list&quot;</span>));
    <span class="kw">for</span> <span class="ident">x</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">3</span> {
        <span class="ident">list</span>.<span class="ident">append_new_child</span>((<span class="ident">ns</span>, <span class="string">&quot;item&quot;</span>))
            .<span class="ident">set_text</span>(<span class="macro">format</span><span class="macro">!</span>(<span class="string">&quot;Item {}&quot;</span>, <span class="ident">x</span>))
            .<span class="ident">set_attr</span>((<span class="ident">other_ns</span>, <span class="string">&quot;id&quot;</span>), <span class="ident">x</span>.<span class="ident">to_string</span>());
    }
}</pre>

<h2 id='design-notes' class='section-header'><a href='#design-notes'>Design Notes</a></h2>
<p>This library largely follows the ideas of Python&#39;s ElementTree but it has some
specific changes that simplify the model for Rust.  In particular nodes do not
know about their parents or siblings.  While this obviously reduces a lot of
what would be possible with the library it significantly simplifies memory
management and the external API.</p>

<p>If you are coming from a DOM environment the following differences are the
most striking:</p>

<ul>
<li>  There are no text nodes, instead text is stored either in the <code>text</code>
attribute of a node or in the <code>tail</code> of a child node.  This means that
for most situations just working with the <code>text</code> is what you want and
you can ignore the existence of the <code>tail</code>.</li>
<li>  tags and attributes are implemented through a <code>QName</code> abstraction that
simplifies working wiht namespaces.  Most APIs just accept strings and
will create <code>QName</code>s automatically.</li>
<li>  namespace prefixes never play a role and are in fact not really exposed.
Instead all namespaces are managed through their canonical identifier.</li>
</ul>

<h2 id='notes-on-namespaces' class='section-header'><a href='#notes-on-namespaces'>Notes on Namespaces</a></h2>
<p>Namespaces are internally tracked in a shared map attached to elements.  The
map is not exposed but when an element is created another element can be passed
in and the namespace map is copied over.  Internally a copy on write mechanism
is used so when changes are performed on the namespace the namespaces will be
copied and the writer will emit them accordingly.</p>

<p>Namespaces need to be registered or the XML generated will be malformed.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.Attrs.html"
                                  title='struct elementtree::Attrs'>Attrs</a></td>
                           <td class='docblock-short'>
                                <p>An iterator over attributes of an element.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.Children.html"
                                  title='struct elementtree::Children'>Children</a></td>
                           <td class='docblock-short'>
                                <p>An iterator over children of an element.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.Element.html"
                                  title='struct elementtree::Element'>Element</a></td>
                           <td class='docblock-short'>
                                <p>Represents an XML element.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.FindChildren.html"
                                  title='struct elementtree::FindChildren'>FindChildren</a></td>
                           <td class='docblock-short'>
                                <p>An iterator over matching children.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.Position.html"
                                  title='struct elementtree::Position'>Position</a></td>
                           <td class='docblock-short'>
                                <p>Represents a position in the source.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.QName.html"
                                  title='struct elementtree::QName'>QName</a></td>
                           <td class='docblock-short'>
                                <p>A <code>QName</code> represents a qualified name.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.WriteOptions.html"
                                  title='struct elementtree::WriteOptions'>WriteOptions</a></td>
                           <td class='docblock-short'>
                                <p>A struct that define write options.</p>
                           </td>
                       </tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="enum" href="enum.Error.html"
                                  title='enum elementtree::Error'>Error</a></td>
                           <td class='docblock-short'>
                                <p>Errors that can occur parsing XML</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="enum" href="enum.XmlProlog.html"
                                  title='enum elementtree::XmlProlog'>XmlProlog</a></td>
                           <td class='docblock-short'>
                                <p>Xml Prolog version handle by elementtree</p>
                           </td>
                       </tr></table><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="trait" href="trait.AsQName.html"
                                  title='trait elementtree::AsQName'>AsQName</a></td>
                           <td class='docblock-short'>
                                <p>Convenience trait to get a <code>QName</code> from an object.</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "elementtree";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>